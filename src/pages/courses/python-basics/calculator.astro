---
import MainLayout from '../../../layouts/MainLayout.astro';
import CodePlayground from '../../../components/CodePlayground.jsx';
import CourseSidebar from '../../../components/CourseSidebar.astro';

const simpleCalculatorCode = `# Simple Calculator
# Let's create a basic calculator that can add and subtract

def add(a, b):
    return a + b

def subtract(a, b):
    return a - b

# Get input from user
num1 = float(input("Enter first number: "))
num2 = float(input("Enter second number: "))

# Show options
print("Select operation:")
print("1. Add")
print("2. Subtract")

choice = input("Enter choice (1/2): ")

if choice == '1':
    result = add(num1, num2)
    print(f"{num1} + {num2} = {result}")
elif choice == '2':
    result = subtract(num1, num2)
    print(f"{num1} - {num2} = {result}")
else:
    print("Invalid choice!")`;

const advancedCalculatorCode = `# Advanced Calculator
# Now let's add multiplication and division!

def add(a, b):
    return a + b

def subtract(a, b):
    return a - b

def multiply(a, b):
    return a * b

def divide(a, b):
    if b == 0:
        return "Error: Cannot divide by zero!"
    return a / b

while True:
    try:
        # Get input from user
        num1 = float(input("Enter first number: "))
        num2 = float(input("Enter second number: "))

        # Show options
        print("\\nSelect operation:")
        print("1. Add")
        print("2. Subtract")
        print("3. Multiply")
        print("4. Divide")
        print("5. Exit")

        choice = input("\\nEnter choice (1/2/3/4/5): ")

        if choice == '5':
            print("Thank you for using the calculator!")
            break

        if choice in ['1', '2', '3', '4']:
            if choice == '1':
                result = add(num1, num2)
                print(f"{num1} + {num2} = {result}")
            elif choice == '2':
                result = subtract(num1, num2)
                print(f"{num1} - {num2} = {result}")
            elif choice == '3':
                result = multiply(num1, num2)
                print(f"{num1} * {num2} = {result}")
            else:  # choice == '4'
                result = divide(num1, num2)
                print(f"{num1} / {num2} = {result}")
        else:
            print("Invalid choice! Please try again.")
            
    except ValueError:
        print("Please enter valid numbers!")
    except Exception as e:
        print(f"An error occurred: {e}")
        
    print("\\n" + "="*30 + "\\n")  # Separator line`;

---

<MainLayout title="Calculator Project">
  <div class="flex">
    <CourseSidebar courseType="python-basics" currentTopicId="calculator" />
    
    <div class="flex-1 p-8 overflow-y-auto">
      <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Building a Calculator in Python</h1>

        <div class="bg-yellow-50 rounded-lg p-6 mb-8">
          <h2 class="text-xl font-semibold mb-4">Project Overview</h2>
          <p class="mb-4">
            Let's create a calculator program that can perform basic arithmetic operations. 
            We'll start with a simple version and then make it more advanced!
          </p>
        </div>

        <section class="mb-12">
          <h2 class="text-2xl font-semibold mb-4">Simple Calculator</h2>
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6">
            <p class="mb-4">
              Our first version will handle addition and subtraction. Try running the code and performing some calculations!
            </p>
            <CodePlayground 
              client:load 
              initialCode={simpleCalculatorCode}
              language="python"
            />
          </div>
        </section>

        <section class="mb-12">
          <h2 class="text-2xl font-semibold mb-4">Advanced Calculator</h2>
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6">
            <p class="mb-4">
              Now let's add multiplication, division, and better error handling. This version also runs in a loop until you choose to exit!
            </p>
            <CodePlayground 
              client:load 
              initialCode={advancedCalculatorCode}
              language="python"
            />
          </div>
        </section>

        <section class="mb-12">
          <h2 class="text-2xl font-semibold mb-4">What We've Learned</h2>
          <div class="bg-green-50 dark:bg-gray-800 rounded-lg p-6">
            <ul class="list-disc ml-6 space-y-2">
              <li>Creating functions for different operations</li>
              <li>Getting user input and converting strings to numbers</li>
              <li>Using if-elif-else for menu options</li>
              <li>Handling errors with try-except</li>
              <li>Creating an interactive program loop</li>
              <li>Adding user-friendly messages</li>
            </ul>
          </div>
        </section>

        <div class="bg-blue-50 rounded-lg p-6">
          <h2 class="text-xl font-semibold mb-4">Challenge Ideas</h2>
          <ul class="list-disc ml-6 space-y-2">
            <li>Add more operations (power, square root, etc.)</li>
            <li>Add memory functions (store results, recall previous calculations)</li>
            <li>Create a scientific calculator mode</li>
            <li>Add support for calculating with multiple numbers</li>
            <li>Create a graphical interface using tkinter</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</MainLayout>
